Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 1
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	1	overlap_sample_region_with_ct_segment
	2

[Wed Apr 21 12:56:25 2021]
rule overlap_sample_region_with_ct_segment:
    input: ../../../ROADMAP_aligned_reads/chromHMM_model/model_100_state/enrichment_151825_roadmap_chromState/sample_segment_overlap_25state/temp_sample_region.bed.gz, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E001/E001_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E002/E002_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E003/E003_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E004/E004_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E005/E005_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E006/E006_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E007/E007_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E008/E008_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E009/E009_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E010/E010_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E011/E011_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E012/E012_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E013/E013_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E014/E014_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E015/E015_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E016/E016_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E017/E017_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E018/E018_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E019/E019_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E020/E020_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E021/E021_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E022/E022_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E023/E023_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E024/E024_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E025/E025_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E026/E026_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E027/E027_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E028/E028_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E029/E029_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E030/E030_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E031/E031_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E032/E032_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E033/E033_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E034/E034_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E035/E035_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E036/E036_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E037/E037_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E038/E038_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E039/E039_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E040/E040_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E041/E041_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E042/E042_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E043/E043_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E044/E044_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E045/E045_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E046/E046_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E047/E047_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E048/E048_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E049/E049_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E050/E050_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E051/E051_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E052/E052_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E053/E053_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E054/E054_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E055/E055_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E056/E056_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E057/E057_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E058/E058_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E059/E059_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E061/E061_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E062/E062_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E063/E063_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E065/E065_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E066/E066_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E067/E067_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E068/E068_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E069/E069_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E070/E070_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E071/E071_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E072/E072_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E073/E073_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E074/E074_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E075/E075_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E076/E076_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E077/E077_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E078/E078_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E079/E079_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E080/E080_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E081/E081_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E082/E082_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E083/E083_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E084/E084_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E085/E085_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E086/E086_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E087/E087_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E088/E088_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E089/E089_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E090/E090_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E091/E091_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E092/E092_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E093/E093_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E094/E094_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E095/E095_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E096/E096_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E097/E097_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E098/E098_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E099/E099_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E100/E100_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E101/E101_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E102/E102_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E103/E103_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E104/E104_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E105/E105_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E106/E106_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E107/E107_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E108/E108_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E109/E109_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E110/E110_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E111/E111_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E112/E112_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E113/E113_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E114/E114_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E115/E115_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E116/E116_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E117/E117_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E118/E118_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E119/E119_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E120/E120_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E121/E121_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E122/E122_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E123/E123_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E124/E124_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E125/E125_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E126/E126_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E127/E127_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E128/E128_sorted_segment.bed, ../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/E129/E129_sorted_segment.bed
    output: ../../../ROADMAP_aligned_reads/chromHMM_model/model_100_state/enrichment_151825_roadmap_chromState/sample_segment_overlap_25state/sample_segment_fullStack_ct25State.bed.gz
    jobid: 1

[Wed Apr 21 12:56:29 2021]
Error in rule overlap_sample_region_with_ct_segment:
    jobid: 1
    output: ../../../ROADMAP_aligned_reads/chromHMM_model/model_100_state/enrichment_151825_roadmap_chromState/sample_segment_overlap_25state/sample_segment_fullStack_ct25State.bed.gz

RuleException:
CalledProcessError in line 46 of /u/project/ernst/havu73/source/25state_enrichments/random_represent_fullStack_state_with_25states/Snakefile:
Command ' set -euo pipefail;  
		command="zcat ../../../ROADMAP_aligned_reads/chromHMM_model/model_100_state/enrichment_151825_roadmap_chromState/sample_segment_overlap_25state/temp_sample_region.bed.gz | sort -k1,1 -k2,2n " # first sort the file of sample regions, where each state appear NUM_SAMPLE_SEGMENT_PER_STATE times
		output_header="chrom	start	end	full_stack"
		rm -f ../../../ROADMAP_aligned_reads/chromHMM_model/model_100_state/enrichment_151825_roadmap_chromState/sample_segment_overlap_25state/sample_segment_fullStack_ct25State.bed.gz # so we can overwrite it
		rm -f ../../../ROADMAP_aligned_reads/chromHMM_model/model_100_state/enrichment_151825_roadmap_chromState/sample_segment_overlap_25state/sample_segment_fullStack_ct25State.bed # so we can overwrite it
		for ct in E001 E002 E003 E004 E005 E006 E007 E008 E009 E010 E011 E012 E013 E014 E015 E016 E017 E018 E019 E020 E021 E022 E023 E024 E025 E026 E027 E028 E029 E030 E031 E032 E033 E034 E035 E036 E037 E038 E039 E040 E041 E042 E043 E044 E045 E046 E047 E048 E049 E050 E051 E052 E053 E054 E055 E056 E057 E058 E059 E061 E062 E063 E065 E066 E067 E068 E069 E070 E071 E072 E073 E074 E075 E076 E077 E078 E079 E080 E081 E082 E083 E084 E085 E086 E087 E088 E089 E090 E091 E092 E093 E094 E095 E096 E097 E098 E099 E100 E101 E102 E103 E104 E105 E106 E107 E108 E109 E110 E111 E112 E113 E114 E115 E116 E117 E118 E119 E120 E121 E122 E123 E124 E125 E126 E127 E128 E129
		do 
			ct_segment_fn=../../../data/roadmap_epigenome/25_imputed12marks_model_downloaded/hg19/${ct}/${ct}_sorted_segment.bed
			command="$command | bedtools map -a stdin -b ${ct_segment_fn} "
			outpt_header="$output_header	${ct}"
		done
		command="$command >> ../../../ROADMAP_aligned_reads/chromHMM_model/model_100_state/enrichment_151825_roadmap_chromState/sample_segment_overlap_25state/sample_segment_fullStack_ct25State.bed "
		# now onto the writing part
		echo $output_header > ../../../ROADMAP_aligned_reads/chromHMM_model/model_100_state/enrichment_151825_roadmap_chromState/sample_segment_overlap_25state/sample_segment_fullStack_ct25State.bed # write the header first
		eval $command # write the content
		gzip ../../../ROADMAP_aligned_reads/chromHMM_model/model_100_state/enrichment_151825_roadmap_chromState/sample_segment_overlap_25state/sample_segment_fullStack_ct25State.bed # gzip ' returned non-zero exit status 141.
  File "/u/project/ernst/havu73/source/25state_enrichments/random_represent_fullStack_state_with_25states/Snakefile", line 46, in __rule_overlap_sample_region_with_ct_segment
  File "/u/home/h/havu73/project-ernst/anaconda/envs/zane_env/lib/python3.6/concurrent/futures/thread.py", line 56, in run
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /u/project/ernst/havu73/source/25state_enrichments/random_represent_fullStack_state_with_25states/.snakemake/log/2021-04-21T125624.743195.snakemake.log
